<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="description" content="Practice for the German Leben in Deutschland citizenship test with 310 official BAMF questions. Free quiz app for Berlin edition.">
  <meta name="theme-color" content="#DD0000">
  <meta property="og:title" content="Leben in Deutschland - Test Trainer">
  <meta property="og:description" content="Free practice app for German citizenship test with 310 official questions">
  <meta property="og:type" content="website">
  <title>Leben in Deutschland - Test Trainer</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>Leben in Deutschland</h1>
      <p>Test Trainer - Berlin Edition</p>
    </div>

    <!-- Home Screen -->
    <main id="home-screen" class="screen active" role="main" aria-label="Home">
      <div class="stats-bar">
        <div class="stat">
          <div class="stat-value" id="stat-learned">0</div>
          <div class="stat-label">Learned</div>
        </div>
        <div class="stat">
          <div class="stat-value" id="stat-total">310</div>
          <div class="stat-label">Total</div>
        </div>
        <div class="stat">
          <div class="stat-value" id="stat-streak">0</div>
          <div class="stat-label">Streak</div>
        </div>
      </div>

      <button class="mode-btn" onclick="startPractice()" aria-label="Start daily practice with 20 random questions">
        <h3>Daily Practice</h3>
        <p>15-minute session with random questions</p>
      </button>
      <button class="mode-btn" id="review-btn" onclick="startReview()" aria-label="Review learned questions">
        <h3>Review Learned</h3>
        <p id="review-btn-desc">Practice questions you've mastered</p>
      </button>
      <button class="mode-btn" onclick="startExam()" aria-label="Start exam simulation with 33 questions">
        <h3>Exam Simulation</h3>
        <p>33 questions like the real test</p>
      </button>
      <button class="mode-btn" onclick="showCatalog()" aria-label="Browse all 310 questions by category">
        <h3>Full Catalog</h3>
        <p>Browse all 310 questions by category</p>
      </button>
      <button class="mode-btn" onclick="resetProgress()" aria-label="Reset all saved progress">
        <h3>Reset Progress</h3>
        <p>Clear all saved data</p>
      </button>
    </main>

    <!-- Quiz Screen -->
    <section id="quiz-screen" class="screen" role="region" aria-label="Quiz">
      <div class="quiz-header">
        <button class="back-btn" onclick="endQuiz()" aria-label="End quiz and go back">&#8592;</button>
        <div class="progress-info">
          <span id="quiz-progress" aria-label="Question progress">1/10</span>
          <span class="timer" id="quiz-timer" aria-live="polite" aria-atomic="true"></span>
        </div>
        <div style="width:40px"></div>
      </div>

      <div class="progress-bar">
        <div class="progress-fill" id="progress-fill" style="width:0%"></div>
      </div>

      <div class="browse-nav-wrapper">
        <button class="browse-nav-btn browse-prev" onclick="prevBrowseQuestion()" aria-label="Previous question">
          &#8592;
        </button>

        <div class="question-card">
          <div class="status-badge" id="status-badge" style="display:none;"></div>
          <div class="question-number" id="question-number">Frage 1</div>
          <div class="question-de" id="question-de"></div>
          <div class="question-en" id="question-en"></div>
          <div class="lang-toggle">
            <div class="lang-toggle-pill">
              <button class="lang-toggle-btn active" id="lang-de" onclick="setLanguage('de')">
                <span class="lang-flag">ðŸ‡©ðŸ‡ª</span> DE
              </button>
              <button class="lang-toggle-btn" id="lang-en" onclick="setLanguage('en')">
                <span class="lang-flag">ðŸ‡¬ðŸ‡§</span> EN
              </button>
            </div>
          </div>
        </div>

        <button class="browse-nav-btn browse-next" onclick="nextBrowseQuestion()" aria-label="Next question">
          &#8594;
        </button>
      </div>

      <div class="answers" id="answers" role="group" aria-label="Answer options"></div>
      <button class="next-btn" id="next-btn" onclick="nextQuestion()" aria-label="Go to next question">Next Question</button>
    </section>

    <!-- Results Screen -->
    <section id="results-screen" class="screen" role="region" aria-label="Quiz Results">
      <div class="results-card">
        <div class="results-score" id="results-score">0</div>
        <div class="results-label">out of <span id="results-total">33</span> correct</div>
        <div class="results-status" id="results-status">PASSED</div>
        <div class="results-details">
          <p><strong>Correct:</strong> <span id="results-correct">0</span></p>
          <p><strong>Wrong:</strong> <span id="results-wrong">0</span></p>
          <p><strong>Time:</strong> <span id="results-time">0:00</span></p>
        </div>
        <p id="results-message"></p>
        <button class="home-btn" onclick="goHome()" aria-label="Return to home screen">Back to Home</button>
      </div>
    </section>

    <!-- Catalog Screen -->
    <section id="catalog-screen" class="screen" role="region" aria-label="Question Catalog">
      <div class="quiz-header">
        <button class="back-btn" onclick="goHome()" aria-label="Back to home">&#8592;</button>
        <div class="progress-info">Question Catalog</div>
        <div style="width:40px"></div>
      </div>

      <nav class="category-tabs" role="tablist" aria-label="Question categories">
        <button class="category-tab active" onclick="filterCategory('all')" role="tab" aria-selected="true">All</button>
        <button class="category-tab" onclick="filterCategory('democracy')" role="tab">Democracy</button>
        <button class="category-tab" onclick="filterCategory('history')" role="tab">History</button>
        <button class="category-tab" onclick="filterCategory('society')" role="tab">Society</button>
        <button class="category-tab" onclick="filterCategory('berlin')" role="tab">Berlin</button>
      </nav>

      <div class="catalog-list" id="catalog-list" role="list" aria-label="Questions"></div>
    </section>
  </div>

  <script src="app.js"></script>
</body>
</html>
